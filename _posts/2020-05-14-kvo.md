---
comments: true
title: Swift ) KVO(Key-Value Observing)
key: 202005141
modify_date: 2020-05-14
picture_frame: shadow
tags:
  - [swift]
---
 
## KVO(Key-Value Observing)
 
KVOë€ **íŠ¹ì • í‚¤ì˜ ê°’ì˜ ë³€í™”ë¥¼ ê°ì§€í•˜ëŠ” ê¸°ëŠ¥**ìœ¼ë¡œ, ë³€ê²½ì‚¬í•­ì„ ë‹¤ë¥¸ ê°ì²´ì— ì•Œë¦¬ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” **ì½”ì½”ì•„ í”„ë¡œê·¸ë˜ë° íŒ¨í„´**ì´ë‹¤.   
ì˜ˆë¥¼ ë“¤ì–´, Model ê°ì²´ì˜ ì–´ë–¤ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ê²½ìš° ì´ë¥¼ UIì— ë°˜ì˜í•˜ê¸° ìœ„í•´ Controller ê°ì²´ëŠ” Model ê°ì²´ì— **observingì„ ì ìš©ì‹œì¼œ delegateì— íŠ¹ì • ë©”ì‹œì§€ë¥¼ ë³´ë‚´ ë³€ê²½ì‚¬í•­ì„ ì•Œë¦¬ê³  ì²˜ë¦¬**í•  ìˆ˜ ìˆë‹¤.   
 
 
observingì„ ì ìš©ì‹œí‚¤ëŠ” ë°©ë²•ì€ ë³€ìˆ˜ì— ì½”ë“œë¥¼ ì¶”ê°€í•´ ë³€ìˆ˜ì˜ ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ í•˜ëŠ” ë°©ë²•ì¸ë°, í”„ë¡œí¼í‹° ì˜µì €ë²„(willSet, didSet)ì™€ ìœ ì‚¬í•˜ë‹¤.   
 
 
ë˜í•œ KVOëŠ” **Objective-C ëŸ°íƒ€ì„ì— ì˜ì¡´**í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ìˆœìˆ˜í•œ swift ì½”ë“œì—ì„  ê·¸ë¦¬ ì¢‹ì§€ ì•Šë‹¤.   
ë•Œë¬¸ì— NSObjectë¥¼ ìƒì†ë°›ìœ¼ë ¤ë©´ `@objc` í‚¤ì›Œë“œë¥¼ ë°˜ë“œì‹œ ë¶™ì—¬ì¤˜ì•¼ í•˜ê³ , íŠ¹íˆ KVOëŠ” í”„ë¡œí¼í‹° ê°ê°ì— `@objc dynamic` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì¤˜ì•¼ í•œë‹¤.   
 
> ğŸ‘€ **dynamicì´ë€?**   
> dynamicì€ objective-c ë¬¸ë²•ì˜ í•˜ë‚˜ë¡œ, íŠ¹ì • methodë‚˜ functionì˜ êµ¬í˜„ì„ objective-c ëŸ°íƒ€ì„ì—ì„œ í•˜ê² ë‹¤ê³  ëª…ì‹œí•˜ëŠ” ê²ƒì´ë‹¤.
 
#### êµ¬í˜„ ë°©ë²•
 
```
class SomeClass {
    var some: String
    
    init(some: String) {
        self.some = some
    }
}
```
ë§Œì•½ í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ `name` í”„ë¡œí¼í‹°ì˜ ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê°ì²´ì— ì•Œë¦¬ê³  ì‹¶ë‹¤ë©´ KVOë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.
 
1. KVOë¥¼ ì§€ì›ë°›ì„íƒ€ì…ì€ `NSObect`ë¥¼ ìƒì†ë°›ì•„ì•¼ í•œë‹¤.
```
class SomeClass: NSObject {
    var some: String
    
    init(some: String) {
        self.some = some
    }
}
```
KVO ê¸°ëŠ¥ì´ NSObjectì— êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— `NSObject` ìƒì†ì€ í•„ìˆ˜ì´ë‹¤.
 
2. observingí•˜ë ¤ëŠ” í”„ë¡œí¼í‹°ì— `@objc dynamic` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•œë‹¤.
```
class SomeClass: NSObject {
    @objc dynamic var some: String
    
    init(some: String) {
        self.some = some
    }
}
```
 
####  í™•ì¸
 
```
var result = SomeClass(some: "some")
 
result.observe(\.some) { (object, change) in
    print("ê°’ì´ \(object.some)(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.")
}
 
result.some = "not some" // "ê°’ì´ not some(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."
```
KVOì˜ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì€ `observe(_ keyPath:changeHandler:)`ë¡œ, **keyPathë¡œ ì§€ì •ëœ í”„ë¡œí¼í‹°ì˜ ê°’ì´ ë°”ë€Œê²Œ ë˜ì—ˆì„ ë•Œ** í´ë¡œì € ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.   
ê·¸ë¦¬ê³  ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ í”„ë¡œí¼í‹°ì˜ ê°’ì´ ë³€ê²½ë˜ìë§ˆì í´ë¡œì € ì½”ë“œê°€ ì‹¤í–‰ë¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.
 
ë¹„ë¡ 
 
#### Reference)
 
[https://zeddios.tistory.com/1220](https://zeddios.tistory.com/1220)   
[https://www.zehye.kr/ios/2020/03/19/11iOS_KVO/](https://www.zehye.kr/ios/2020/03/19/11iOS_KVO/)
